import{r as P,z as B,u as w,s as x,j as b,v as I,A as z,C as L,E as j,k as N,b as S}from"./index.9ce0a29e.js";import{P as V,_ as E,L as H}from"./ProjectProfile.b5725e15.js";import{_ as M}from"./AddToCartButton.vue_vue_type_script_setup_true_lang.8d4e28f4.js";import{k as U,r as u,j as r,H as $,q as o,v as g,F as C,I as c,z as q,u as l,C as d,K as p}from"./@vuelidate.e7200945.js";import"./google-spreadsheet.016741c3.js";import"./maci.f28b6353.js";import"./@kleros/gtcr-encoder.75dc8b9f.js";import"./Markdown.5d3f9ab7.js";import"./markdown.ca29d445.js";const F=["src","alt"],K={class:"sticky-column"},T={class:"desktop"},D=U({__name:"Project",setup(G){const s=P(),i=B(),n=w(),{showCartPanel:R,isRoundContributionPhase:h,canUserReallocate:k}=x(n),t=u(""),e=u(null),_=u(!0),m=r(()=>n.isCurrentRound(t.value)),y=r(()=>m.value&&h.value||k),A=r(()=>m.value&&e.value!==null&&e.value.index!==0);return $(async()=>{if(!!s.params.address&&!s.params.id){i.push({name:"rounds",params:s.params});return}const v=n.currentRoundAddress||await b();t.value=s.params.address||v||"";const f=await I(t.value||null),a=await z(f,s.params.id);if(a===null||a.isHidden){i.push({name:"projects"});return}else e.value=a;_.value=!1}),L(r(()=>({title:e.value?j+" - "+e.value.name:j}))),(v,f)=>{const a=N;return o(),g("div",null,[_.value?(o(),C(a,{key:0})):c("",!0),e.value?(o(),g("div",{key:1,class:q(`grid ${l(R)?"cart-open":"cart-closed"}`)},[d("img",{class:"project-image banner",src:e.value.bannerImageUrl,alt:e.value.name},null,8,F),p(V,{class:"details",project:e.value,previewMode:!1},null,8,["project"]),d("div",K,[d("div",T,[l(y)&&l(A)?(o(),C(M,{key:0,project:e.value},null,8,["project"])):c("",!0),p(E,{project:e.value,roundAddress:t.value},null,8,["project","roundAddress"])]),p(H,{project:e.value},null,8,["project"])])],2)):c("",!0)])}}});const ae=S(D,[["__scopeId","data-v-62ff72a2"]]);export{ae as default};
