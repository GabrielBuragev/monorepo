import{g as z,ap as N,n as f,a as D,b as L,z as q,r as P,u as E,s as G,aq as R,ar as H,as as J,k as K}from"./index.9ce0a29e.js";import{k as S,j as p,q as t,v as d,C as e,J as n,u as s,L as w,_ as I,K as A,G as T,A as C,B as U,I as j,z as M,r as y,H as O,F as V}from"./@vuelidate.e7200945.js";import"./google-spreadsheet.016741c3.js";import"./maci.f28b6353.js";import"./@kleros/gtcr-encoder.75dc8b9f.js";const F=a=>(C("data-v-e31cc59e"),a=a(),U(),a),Q={class:"info"},W=F(()=>e("div",{class:"icon","aria-label":"info icon"},"\u2139",-1)),X={class:"message"},Y={class:"content"},Z={class:"card desktop"},x=F(()=>e("div",{class:"rank"},"#",-1)),ee={class:"project"},oe={class:"votes"},se={class:"donation heading"},te={class:"desktop symbol"},ne=["src","alt"],ae={class:"funding heading"},de={class:"desktop symbol"},re=["src","alt"],ie={class:"card"},ce={class:"rank"},le={class:"project"},_e={class:"votes"},ue={class:"mobile"},me={class:"donation"},pe={class:"mobile"},ve={class:"mobile symbol"},he=["src","alt"],ke={class:"funding"},ge={class:"mobile"},be={class:"amount"},fe={class:"mobile symbol"},$e=["src","alt"],ye=S({__name:"LeaderboardDetailView",props:{projects:null,round:null},setup(a){const r=a;function v(o){return{name:"leaderboard-project",params:{id:o,address:r.round.fundingRoundAddress,network:r.round.network}}}function g(o){return f(o.toString(),h.value,null,0)}function u(o){return f(o.mul(r.round.voiceCreditFactor),h.value,null,0)}function m(o){return o?f(o,h.value,null,0):"0"}const h=p(()=>r.round.nativeTokenDecimals),c=p(()=>r.round.nativeTokenSymbol),k=p(()=>z(N(c.value)));return(o,l)=>{const _=D;return t(),d("div",null,[e("div",Q,[W,e("div",X,n(o.$t("leaderboard.message")),1)]),e("div",Y,[e("div",Z,[x,e("div",ee,n(o.$t("leaderboard.heading.project")),1),e("div",oe,n(o.$t("leaderboard.heading.votes")),1),e("div",se,[e("div",null,n(o.$t("leaderboard.heading.donation")),1),e("div",te,[e("img",{src:s(k),alt:s(c)},null,8,ne)])]),e("div",ae,[e("div",null,n(o.$t("leaderboard.heading.total")),1),e("div",de,[e("img",{src:s(k),alt:s(c)},null,8,re)])])]),(t(!0),d(w,null,I(a.projects,(i,b)=>(t(),d("div",{key:i.id},[A(_,{to:v(i.id)},{default:T(()=>[e("div",ie,[e("div",ce,n(b+1),1),e("div",le,n(i.name),1),e("div",_e,[e("span",ue,n(o.$t("leaderboard.heading.votes"))+": ",1),e("span",null,n(g(i.votes)),1)]),e("div",me,[e("span",pe,n(o.$t("leaderboard.heading.donation"))+": ",1),e("span",null,"~"+n(u(i.donation)),1),e("div",ve,[e("img",{src:s(k),alt:s(c)},null,8,he)])]),e("div",ke,[e("span",ge,n(o.$t("leaderboard.heading.total"))+": ",1),e("span",be," ~"+n(m(i.allocatedAmount)),1),e("div",fe,[e("img",{src:s(k),alt:s(c)},null,8,$e)])])])]),_:2},1032,["to"])]))),128))])])}}});const we=L(ye,[["__scopeId","data-v-e31cc59e"]]),je=""+new URL("medal-1.f430e5d9.svg",import.meta.url).href,Le=""+new URL("medal-2.25eb62ff.svg",import.meta.url).href,Se=""+new URL("medal-3.e60a81c2.svg",import.meta.url).href,Ae={class:"content"},Re={class:"container"},Ve={class:"rank"},De={key:0},Ie={key:0,src:je},Te={key:1,src:Le},Ce={key:2,src:Se},Ue={class:"desktop project-image"},Fe=["src","alt"],Be={class:"project-name"},ze={class:"funding"},Ne={class:"amount"},qe={class:"symbol"},Pe=S({__name:"LeaderboardSimpleView",props:{project:null,round:null,rank:null},setup(a){const r=a,v=p(()=>r.rank<=3),g=p(()=>r.rank===1),u=p(()=>r.rank===2),m=p(()=>r.rank===3);function h(o){const l=r.round.nativeTokenDecimals;return o?f(o,l,null,0):"0"}const c=p(()=>typeof r.project.imageUrl<"u"?r.project.imageUrl:null),k=p(()=>r.round.nativeTokenSymbol);return(o,l)=>{const _=D;return t(),d("div",Ae,[A(_,{to:{name:"leaderboard-project",params:{id:a.project.id,address:a.round.fundingRoundAddress,network:a.round.network}}},{default:T(()=>[e("div",Re,[e("div",Ve,[s(v)?(t(),d("div",De,[s(g)?(t(),d("img",Ie)):s(u)?(t(),d("img",Te)):(t(),d("img",Ce))])):j("",!0),e("div",{class:M(["number",{first:s(g),second:s(u),third:s(m)}])},n(a.rank),3)]),e("div",Ue,[s(c)?(t(),d("img",{key:0,src:s(c),alt:a.project.name},null,8,Fe)):j("",!0)]),e("div",Be,n(a.project.name),1),e("div",ze,[e("div",Ne,"~"+n(h(a.project.allocatedAmount)),1),e("div",qe,n(o.$t("leaderboardSimpleView.funded",{tokenSymbol:s(k)})),1)])])]),_:1},8,["to"])])}}});const Ee=L(Pe,[["__scopeId","data-v-3422ad10"]]),Ge=a=>(C("data-v-1031755c"),a=a(),U(),a),He={key:1},Je={key:0,class:"info"},Ke={key:1},Me={key:0,class:"info"},Oe={class:"header"},Qe={key:0},We={key:1},Xe=Ge(()=>e("div",{class:"hr"},null,-1)),Ye={class:""},Ze={key:0},xe={key:1},eo=S({__name:"Leaderboard",setup(a){const r=q(),v=P(),g=y(!0),u=y(null),m=y(null),h=E(),{showSimpleLeaderboard:c}=G(h);async function k(o,l){return await J(o,l)}return O(async()=>{if(!v.params.address||!v.params.network){r.push({name:"rounds"});return}const o=R(v.params.address),l=R(v.params.network),_=await k(o,l);if(!_?.projects){r.push({name:"round"});return}m.value=_.projects.filter(i=>i.state!="Removed").map(i=>H(i)).sort((i,b)=>b.allocatedAmount.sub(i.allocatedAmount)),u.value={..._.round,fundingRoundAddress:_.round.address,network:l},g.value=!1}),(o,l)=>{const _=K,i=Ee,b=we;return t(),d("div",null,[s(g)?(t(),V(_,{key:0})):(t(),d("div",He,[s(u)?s(m)?(t(),d("div",Ke,[s(m).length===0?(t(),d("div",Me,"\u{1F622} "+n(o.$t("leaderboard.no_project")),1)):(t(),d(w,{key:1},[e("div",Oe,[e("div",null,[e("h2",null,n(o.$t("leaderboard.header")),1)]),e("button",{class:"btn-secondary",onClick:l[0]||(l[0]=$=>s(h).toggleLeaderboardView())},[s(c)?(t(),d("div",Qe,n(o.$t("leaderboard.more")),1)):(t(),d("div",We,n(o.$t("leaderboard.less")),1))])]),Xe,e("div",Ye,[s(c)?(t(),d("div",Ze,[(t(!0),d(w,null,I(s(m),($,B)=>(t(),V(i,{project:$,key:$.id,rank:B+1,round:s(u)},null,8,["project","rank","round"]))),128))])):(t(),d("div",xe,[A(b,{projects:s(m),round:s(u)},null,8,["projects","round"])]))])],64))])):j("",!0):(t(),d("div",Je,"\u{1F91A} "+n(o.$t("leaderboard.no_round")),1))]))])}}});const ro=L(eo,[["__scopeId","data-v-1031755c"]]);export{ro as default};
